@model IEnumerable<BH.Models.cartpaypal>
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
@if (Model.Count() == 0)
{
    <p>
        無紀錄
    </p>
}
else
{
    string datestring = "";
    int c = 0;
    foreach (var pay in Model)
    {

        if (datestring == "")
        {
            datestring = pay.paypaldate.ToString();
            break;
        }
    }
    foreach (var pay in Model)
    {
        if (datestring != pay.paypaldate.ToString())
        {
            datestring = pay.paypaldate.ToString();
            <table border="1" style="border-color:#79FF78">
                <tbody>
                    <tr style="background-color:#79FF79">
                        <td>
                            <p>訂單編號</p>
                        </td>
                        <td>
                            <p>訂單日期</p>
                        </td>
                        <td>
                            <p>付款狀態</p>

                        </td>
                    </tr>
                    <tr style="background-color:#D7FFEE">
                        <td>
                            @Html.DisplayFor(m => pay.OrderNumber)
                        </td>
                        <td>
                            @Html.DisplayFor(m => pay.paypaldate)
                        </td>
                        <td>
                            @Html.DisplayFor(m => pay.paypaltruefalse)
                        </td>
                    </tr>
                </tbody>
            </table>
            goto tip;
        }
        else if (datestring == pay.paypaldate.ToString() && c == 1)
        {
            goto tip;
        }
        else
        {
            c = 1;
            <table border="1" style="border-color:#79FF78">
                <tbody>
                    <tr style="background-color:#79FF79">
                        <td>
                            <p>訂單編號</p>
                        </td>
                        <td>
                            <p>訂單日期</p>
                        </td>
                        <td>
                            <p>付款狀態</p>

                        </td>
                    </tr>
                    <tr style="background-color:#D7FFEE">
                        <td>
                            @Html.DisplayFor(m => pay.OrderNumber)
                        </td>
                        <td>
                            @Html.DisplayFor(m => pay.paypaldate)
                        </td>
                        <td>
                            @Html.DisplayFor(m => pay.paypaltruefalse)
                        </td>
                    </tr>
                </tbody>
            </table>
            goto tip;
        }
    tip: <table class="table" border="1" style="border-color:#FFDCB8">
            <tr style="background-color:#FFDCB9">
                <td>
                    @Html.DisplayFor(m => pay.itemName)
                </td>
                <td>
                </td>
                <td>
                    @Html.DisplayFor(m => pay.Quantity)
                </td>
                <td>
                    @Html.DisplayFor(m => pay.UnitPrice)
                </td>
                <td>
                    @Html.DisplayFor(m => pay.Total)
                </td>
            </tr>

        </table>

    }








}

